# django_project

***Всем привет! Меня зовут Кристина Рожкова. Я учусь в online школе [sky.pro](https://sky.pro/#giftpopup) на
phyton-разработчика. Данный проект является выполнением домашнего задания по изучению Django.***

### Домашнее задание №1

**Контекст:** Будет создаваться проект интернет-магазина, который будет дорабатываться на каждом уроке в течение всего
курса.

**Задание 1. Настройка проекта:**

- Создайте новую директорию для проекта и настройте виртуальное окружение.
- Инициализируйте новый проект Django внутри этой директории.

**Задание 2. Создание и настройка приложения:**

- Создайте новое приложение под названием catalog в вашем проекте.
- Зарегистрируйте приложение в настройках проекта.
- Настройте маршрутизацию для нового приложения, добавив соответствующие URL-адреса.

**Задание 3. Создание шаблонов:**

- Подготовьте два HTML-шаблона: для домашней страницы и для страницы с контактной информацией.
- Для стилизации страниц используйте Bootstrap.

**Задание 4. Реализация контроллеров:**

- Создайте контроллер для отображения домашней страницы.
- Создайте контроллер для отображения страницы с контактной информацией.
- Настройте маршрутизацию для этих контроллеров.

***Дополнительное задание:**

- Реализуйте форму обратной связи на странице контактов.
- Настройте обработку данных формы в контроллере, чтобы отображать сообщение об успешной отправке данных.

### Домашнее задание №2

**Контекст:** Вы продолжаете работу над проектом. Вам предстоит подключить PostgreSQL к проекту, создать и настроить
модели Product и Category, перенести их в базу данных с помощью миграций, зарегистрировать и настроить модели в админке,
наполнить базу данных через Django shell, создать фикстуры для моделей и реализовать кастомную команду для добавления
тестовых данных.

**Задание 1.**

Подключите СУБД PostgreSQL для работы в проекте.

- Создайте базу данных в ручном режиме.
- Внесите изменения в настройки подключения в файле settings.py.

**Задание 2.**

В приложении каталога создайте модели Product и Category и опишите для них базовые настройки.

Описание моделей:

- Product:
    - наименование,
    - описание,
    - изображение,
    - категория,
    - цена за покупку,
    - дата создания,
    - дата последнего изменения.
- Category:
    - наименование,
    - описание.

Поля «Дата создания» и «Дата последнего изменения» стали стандартом для моделей.
Их общепринятые названия — created_at и updated_at соответственно.

**Задание 3.**

Перенесите отображение моделей в базу данных с помощью инструмента миграций. Для этого:

- создайте миграции для новых моделей;
- примените миграции.

Важно сохранять всю историю миграций проекта для сохранения целостности базы данных проекта.
Не забудьте добавить все выполненные миграции в коммит, а затем отправить в удаленный репозиторий на GitHub.

**Задание 4.**

- Создайте суперпользователя.
- Зарегистрируйте модели Product и Category в админке.
- Настройте отображение для моделей:
    - Для Category выведите id и name в списке.
    - Для Product выведите id, name, price и category в списке.
    - Настройте фильтрацию продуктов по категории.
    - Настройте поиск по полям name и description.

**Задание 5.**

Через инструмент shell заполните список категорий, а также выберите список категорий, применив произвольные
рассмотренные фильтры.

- Войдите в Django shell.
- Создайте несколько категорий и продуктов.
- Выполните следующие запросы:
    - Получите все категории.
    - Получите все продукты.
    - Найдите все продукты в определенной категории.
    - Обновите цену для определенного продукта.
    - Удалите продукт.

В качестве решения отправьте наставнику для проверки скриншоты выполнения команд.

**Задание 6.**

Сформируйте фикстуры для моделей Category и Product.

**Задание 7.**

- Создайте кастомную команду для добавления тестовых продуктов.
- В команде удалите все существующие данные из базы перед добавлением новых продуктов.

Этот пункт можно реализовать в связке с инструментом работы с фикстурами, можно описать вставку данных отдельными
запросами.

***Дополнительное задание.**

- Добавьте в контроллер отображения главной страницы выборку последних 5 созданных продуктов и выведите их в консоль.
- Создайте модель для хранения контактных данных и выведите данные, заполненные через админку, на страницу с контактами.

### Домашнее задание №3

**Контекст:** Теперь необходимо придать динамики приложению, а также сделать страницы более привлекательными.

**Задание 1.**

Создайте новый контроллер и шаблон для отображения страницы с подробной информацией о товаре. На этой странице должна
быть показана вся информация о товаре.

**Задание 2.**

Добавьте в шаблон главной страницы код для отображения списка товаров с помощью цикла. Чтобы карточки товаров выглядели
одинаково, обрежьте отображаемое описание до первых 100 символов.

**Задание 3.**

Из-за увеличения количества шаблонов возникает много повторяющегося кода. Выделите общий (базовый) шаблон, который будет
включать общие элементы страницы, такие как шапка, подвал и стили. Также создайте подшаблон для главного меню, который
можно будет включать в другие шаблоны.

***Дополнительное задание.**

- Реализуйте страницу с формой, которая позволит пользователю добавлять новые товары. Обработайте ввод данных и
  сохраните новый товар в базу данных.
- Добавьте функциональность для постраничного вывода списка товаров на главной странице. Убедитесь, что пользователи
  могут легко переходить между страницами списка товаров.

___

## Установка

1. Клонирование репозитория по [HTTPS](https://github.com/Kristina-Rozhkova/django_project.git)
2. Все зависимости описаны в файле pyproject.toml, все исключения добавлены в .gitignore

---

## Структура проекта

```
djangoproject/
├── manage.py
├── .env.sample
├── .gitignore
├── catalog.json
├── static/
├── media/
├── config/
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── catalog/
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── models.py
│   ├── tests.py
│   ├── urls.py
│   ├── views.py
│   ├── management/
│   │   ├── __init__.py
│   │   ├── commands/
│   │   │   ├── __init__.py
│   │   │   └── add_products.py
│   ├── migrations/
│   ├── templates/
│   │   ├── catalog/
│   │   │   ├── base.html
│   │   │   ├── home.html
│   │   │   ├── contacts.html
│   │   │   ├── product_detail.html
│   │   │   └── add_new_product.html
│   │   ├── includes/
│   │   │   ├── nav_menu.html
│   │   │   ├── footer.html
│   │   │   └── pagination.html
│   ├── templatetags/
│   │   └── my_tags.py
```

___

## Использование

Пакет config содержит модули с настройками для работы с приложением catalog.

Пакет catalog содержит следующие пакеты и модули:

- [templates](catalog/templates/catalog) - директория, содержащая веб-страницы
- [migrations](catalog/migrations) - миграции приложения
- [management](catalog/management/commands) - реализация кастомных команд
- [my_tags.py](catalog/templatetags/my_tags.py)
- [admin.py](catalog/admin.py)
- [apps.py](catalog/apps.py)
- [models.py](catalog/models.py)
- [views.py](catalog/views.py)
- [tests.py](catalog/tests.py)
- [urls.py](catalog/urls.py)

---

## Содержание модулей

1. Приложение [catalog](catalog).

   Реализация работы интернет-магазина каталога товаров:
    - [add_products](catalog/management/commands)
      Кастомные команды Django для добавления тестовых продуктов. Реализуется через загрузку данных
      из [catalog.json](catalog.json) с предварительным очищением базы данных.
    - [base.html](catalog/templates/catalog/base.html). Базовый шаблон веб-страниц.
    - [nav_menu.html](catalog/templates/includes/nav_menu.html). Подшаблон навигации, включенный в базовый шаблон.
    - [footer.html](catalog/templates/includes/footer.html). Подшаблон подвала, включенный в базовый шаблон.
    - [home.html](catalog/templates/catalog/home.html). Шаблон главной страницы. Отображает список последних добавленных
      товаров.
    - [pagination.html](catalog/templates/includes/pagination.html). Подшаблон плагинации, включенный в шаблон главной
      страницы.
    - [contacts.html](catalog/templates/catalog/contacts.html). Шаблон страницы контактов. Включает форму обратной
      связи.
    - [add_new_product.html](catalog/templates/catalog/add_new_product.html). Шаблон с формой добавления нового продукта
      в базу данных.
    - [my_tags.py](catalog/templatetags/my_tags.py). Кастомный фильтр для обработки путей к медиафайлам Django.
    - [admin.py](catalog/admin.py). Конфигурация админ-панели Django. Регистрация моделей (Product, Category, Contact) и
      кастомизация их отображения.
    - [apps.py](catalog/apps.py). Конфигурация приложения catalog. Определяет имя приложения и метаданные.
    - [models.py](catalog/models.py). Модели данных: Product (товары), Category (категории), Contact (контактные
      данные).
    - [tests.py](catalog/tests.py). Тесты для проверки функциональности приложения (моделей, представлений).
    - [urls.py](catalog/urls.py). Маршруты приложения: home/ (главная), contacts/ (контакты).
    - [views.py](catalog/views.py). Логика отображения страниц: home() (вывод товаров), contacts() (обработка формы
      связи), product_detail() (вывод подробной информации о конкретном товаре), add_new_product() (обработка формы
      добавления товара и его внесение в базу данных).
2. Директория [config](config)
    - [asgi.py](config/asgi.py). Конфигурация ASGI для запуска приложения с асинхронными серверами.
    - [settings.py](config/settings.py). Настройки проекта: база данных psql, шаблоны, статические файлы, подключённые
      приложения.
    - [urls.py](config/urls.py). Корневые маршруты проекта. Подключает URL-адреса приложения catalog.
    - [wsgi.py](config/wsgi.py). Конфигурация WSGI для запуска приложения с синхронными серверами.
